<nz-layout class="full-screen">
    <nz-sider [nzWidth]="260">
        <div class="profile-container">
            <div
                class="back-btn floating-btn"
                (click)="goBack()"
            >
                <span class="anticon anticon-left"></span>
            </div>
            <img
                src="./assets/img/default-avatar.png"
                alt
                class="avatar"
            >
            <div class="username">{{ username }}</div>
            <div class="date-count">使用 Today 的第 {{ dateCount }} 天</div>
        </div>
    </nz-sider>

    <nz-content>
        <nz-calendar>
            <!-- TODO: *nzDateCell="let date" -->
            <ul
                *nzDateCell="let date"
                class="todo-list"
            >
                <!-- TODO: 注意下面 *ngIf + as 的写法！ -->
                <div
                    *ngIf="requestForDate(date) as summary"
                    (click)="showSummaryDetail(summary)"
                >
                    <li *ngFor="let item of summary.completedTodos">
                        <nz-badge
                            [nzStatus]="'success'"
                            [nzText]="item"
                        ></nz-badge>
                    </li>
                    <li *ngFor="let item of summary.uncompletedTodos">
                        <nz-badge
                            [nzStatus]="'error'"
                            [nzText]="item"
                        ></nz-badge>
                    </li>
                </div>
            </ul>
        </nz-calendar>
    </nz-content>
</nz-layout>
